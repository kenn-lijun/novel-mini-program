{"version":3,"sources":["uni-app:///main.js","webpack:///D:/HbuilderX/AiNingBook2/pages/bookInfo/bookInfo.vue?b421","webpack:///D:/HbuilderX/AiNingBook2/pages/bookInfo/bookInfo.vue?9724","webpack:///D:/HbuilderX/AiNingBook2/pages/bookInfo/bookInfo.vue?ddb1","webpack:///D:/HbuilderX/AiNingBook2/pages/bookInfo/bookInfo.vue?8864","uni-app:///pages/bookInfo/bookInfo.vue","webpack:///D:/HbuilderX/AiNingBook2/pages/bookInfo/bookInfo.vue?790e","webpack:///D:/HbuilderX/AiNingBook2/pages/bookInfo/bookInfo.vue?a7b4"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,sG,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,iBAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;AACa;;;AAGpE;AAC2K;AAC3K,gBAAgB,+KAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,kRAEN;AACP,KAAK;AACL;AACA,aAAa,0MAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,aAAa,mWAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChFA;AAAA;AAAA;AAAA;AAAgoB,CAAgB,4nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwEppB,2D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA,EACA,IADA,kBACA,CACA,SACA,iBADA,EAEA,UAFA,EAGA,YAHA,EAIA,YAJA,EAKA,YALA,EAMA,UANA,EAOA,OAPA,EAQA,aARA,EASA,eATA,EAUA,oBAVA,EAWA,mBAXA,EAYA,eAZA,EAaA,eAbA,EAaA;AACA,+BAdA,EAeA,gBAfA,EAgBA,kBAhBA,EAiBA,gBAjBA,EAkBA,eAlBA,EAmBA,UAnBA,EAoBA,YApBA,EAqBA,qCArBA,GAuBA,CAzBA,EA0BA,WACA,MADA,kBACA,MADA,EACA,kBACA,8DACA,iCACA,qCACA,qCACA,qCACA,iCAEA,uHACA,qCACA,eACA,0BACA,CACA,CALA,EAMA,CAfA,EAgBA,MAhBA,oBAgBA,CACA;AACA,4BACA,CAnBA,EAoBA,IApBA,kBAoBA,CACA,mBACA,QADA,IAGA,CAxBA,EAyBA,+BACA,uCACA,CA3BA,EA4BA,WA5BA,yBA4BA,CACA,wBACA,CA9BA,EA+BA,WA/BA,yBA+BA,CACA,qBACA,CAjCA,EAkCA,YAlCA,0BAkCA,CACA,wBACA,yBACA,uBACA,CAtCA,EAuCA,OAvCA,qBAuCA,CACA,oBACA,yBADA,EAEA,yBAFA,EAGA,yBAHA,EAIA,iCAJA;AAOA;AACA;;AAEA;AACA,KAnDA;AAoDA;AACA,mBArDA,6BAqDA;AACA;AACA;AACA,KAxDA;AAyDA;AACA;AACA;;AAEA;AACA,2BADA;AAEA,+BAFA;AAGA,+BAHA;AAIA,+BAJA;AAKA,qBALA;AAMA,2BANA;;AAQA;AACA;AACA,qBADA;AAEA,gCAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,WATA;;AAWA,OAZA,EAYA,KAZA,CAYA;AACA,OAbA;AAcA,KAnFA;AAoFA;AACA;AACA;AACA;AACA;AACA,iCADA;AAEA,iCAFA;AAGA,iCAHA;AAIA,yCAJA;;;AAOA;;AAEA;AACA,KAlGA;AAmGA;AACA;AACA,sBADA;;;AAIA;AACA,2BADA;AAEA,8DAFA;AAGA,UAHA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAVA;AAWA,OAlBA;AAmBA,KA3HA;AA4HA;AACA;AACA,KA9HA;AA+HA;AACA;AACA,2BADA;AAEA,8DAFA;AAGA,UAHA,CAGA;AACA;AACA;AACA;AACA;AACA,OARA;AASA,KAzIA;AA0IA,aA1IA,uBA0IA;AACA;AACA,2BADA;AAEA,+BAFA;AAGA,+BAHA;AAIA,+BAJA;AAKA,qBALA;AAMA,2BANA;;AAQA;AACA,KApJA;AAqJA,iBArJA,yBAqJA,CArJA,EAqJA;AACA;AACA,KAvJA;AAwJA,iBAxJA,yBAwJA,WAxJA,EAwJA;AACA;AACA,2BADA;AAEA,8BAFA;AAGA,UAHA,CAGA;AACA;AACA;AACA;AACA;;AAEA;AACA,+DADA;;AAGA,OAZA;AAaA,KAtKA;AAuKA,oBAvKA,4BAuKA,CAvKA,EAuKA;AACA;AACA,KAzKA;AA0KA,cA1KA,sBA0KA,IA1KA,EA0KA,SA1KA,EA0KA;AACA;AACA;AACA;AACA,KA9KA,EA1BA,E;;;;;;;;;;;;;ACzEA;AAAA;AAAA;AAAA;AAA85B,CAAgB,q3BAAG,EAAC,C;;;;;;;;;;;ACAl7B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/bookInfo/bookInfo.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/bookInfo/bookInfo.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./bookInfo.vue?vue&type=template&id=04fdd734&\"\nvar renderjs\nimport script from \"./bookInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./bookInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./bookInfo.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/bookInfo/bookInfo.vue\"\nexport default component.exports","export * from \"-!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./bookInfo.vue?vue&type=template&id=04fdd734&\"","var components\ntry {\n  components = {\n    uniNavBar: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar\" */ \"@/uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar.vue\"\n      )\n    },\n    uniSection: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-section/uni-section\" */ \"@/components/uni-section/uni-section.vue\"\n      )\n    },\n    uPopup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-popup/u-popup\" */ \"@/uni_modules/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    uniPagination: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-pagination/components/uni-pagination/uni-pagination\" */ \"@/uni_modules/uni-pagination/components/uni-pagination/uni-pagination.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    _vm.chapterTotal < 3000\n      ? _vm.__map(_vm.chapterList, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var m0 = _vm.getBindId(index)\n          return {\n            $orig: $orig,\n            m0: m0\n          }\n        })\n      : null\n  var l1 = !(_vm.chapterTotal < 3000)\n    ? _vm.__map(_vm.groupChapterList[_vm.pageNum - 1], function(item, index) {\n        var $orig = _vm.__get_orig(item)\n\n        var m1 = _vm.getBindId(index)\n        return {\n          $orig: $orig,\n          m1: m1\n        }\n      })\n    : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./bookInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./bookInfo.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view>\r\n\t\t\t<!-- leftWidth和rightWidth保持一致标题居中 -->\r\n\t\t\t<uni-nav-bar :border=\"navBorder\" dark fixed=\"true\" background-color=\"#343232\" status-bar left-icon=\"back\"\r\n\t\t\t\t@clickLeft=\"back\" :title=\"bookName\" />\r\n\t\t</view>\r\n\r\n\t\t<uni-section title=\"书籍详情\" type=\"line\" padding>\r\n\t\t\t<view class='row'>\r\n\t\t\t\t<image class='rowIcon' :src=\"img ? img : defaultImg\" @error=\"handleImageError\"></image>\r\n\t\t\t\t<view class='rowDesc'>\r\n\t\t\t\t\t<text style=\"font-size: 15px;font-weight: bold;\">{{bookName}}</text>\r\n\t\t\t\t\t<text>{{item.book.bookStatus}}</text>\r\n\t\t\t\t\t<text style=\"color: #992200;\">作者：{{author}}</text>\r\n\t\t\t\t\t<text></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class='btnGroup'>\r\n\t\t\t\t<button class='blue-btn' type='default' plain=\"true\" @tap=\"readNow()\">立即阅读</button>\r\n\t\t\t\t<button class=\"blue-btn\" type='default' plain=\"true\" :disabled=\"shelftButtonDisable\"\r\n\t\t\t\t\t@tap=\"addBookshelf()\">{{shelfInfo}}</button>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"desc\">\r\n\t\t\t\t<view class=\"lab\" style=\"font-weight: bold\"> 内容简介</view>\r\n\t\t\t\t<view class=\"content\" :class=\"showMoreDesc ? 'autoHeight' : 'limitHeight'\">{{introduce}}</view>\r\n\t\t\t\t<view class=\"blue-link\" @tap=\"showDesc()\">{{showMoreDesc ? '收起介绍' : '更多介绍'}}</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"linePanel\">\r\n\t\t\t\t<view><text style=\"color: #6c2a21;\" @click=\"showChapter\">查看目录</text></view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<u-popup :show=\"chapterShow\" mode=\"bottom\" @close=\"closeChapter\" @open=\"openChapter\">\r\n\t\t\t\t<view style=\"height: 600px;\">\r\n\t\t\t\t\t<view class=\"catelog-header\" >\r\n\t\t\t\t\t\t<view class='catelog-header-col'>共{{chapterTotal}}章</view>\r\n\t\t\t\t\t\t<view class='catelog-header-col1' @click=\"sortchapterList\">{{isReverse ? '逆序' : '正序'}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"chapterTotal < 3000\">\r\n\t\t\t\t\t\t<scroll-view class=\"catelog\" :scroll-into-view=\"locateIndex\" scroll-y=\"true\">\r\n\t\t\t\t\t\t\t<view class=\"column\" v-for=\"(item,index) in chapterList\">\r\n\t\t\t\t\t\t\t\t<view :id=\"getBindId(index)\" class=\"row_item\"\r\n\t\t\t\t\t\t\t\t\t:class=\"index == currentIndex ? 'hoverText' : ''\" @tap=\"toRead(index)\"\r\n\t\t\t\t\t\t\t\t\tstyle=\"overflow: hidden;text-overflow: ellipsis;white-space: nowrap;\">\r\n\t\t\t\t\t\t\t\t\t{{item.name}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view v-html=\"'<br><br>'\"></view>\r\n\t\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-else>\r\n\t\t\t\t\t\t<view class=\"column\" v-for=\"(item, index) in groupChapterList[pageNum - 1]\">\r\n\t\t\t\t\t\t\t<view :id=\"getBindId(index)\" class=\"row_item\"\r\n\t\t\t\t\t\t\t\t:class=\"((pageNum - 1) * 15 + index) == currentIndex ? 'hoverText' : ''\" @tap=\"toRead(index)\"\r\n\t\t\t\t\t\t\t\tstyle=\"overflow: hidden;text-overflow: ellipsis;white-space: nowrap;\">\r\n\t\t\t\t\t\t\t\t{{item.name}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view style=\"height: 40px;position: relative; top: 30px;\">\r\n\t\t\t\t\t\t\t<uni-pagination :current=\"pageNum\" :pageSize=\"pageSize\" :total=\"chapterTotal\" @change=\"changeChapter\"/>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</u-popup>\r\n\t\t\r\n\t\t</uni-section>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { shelfIsExit, saveShelf, getChapters, saveBrowseHistory, getCache } from '../../api/book';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshelfInfo: '加入书架',\r\n\t\t\t\topenid: '',\r\n\t\t\t\tsourceId: '',\r\n\t\t\t\tbookName: '',\r\n\t\t\t\tbookLink: '',\r\n\t\t\t\tauthor: '',\r\n\t\t\t\timg: '',\r\n\t\t\t\tintroduce: '',\r\n\t\t\t\tchapterList: [],\r\n\t\t\t\tgroupChapterList: [],\r\n\t\t\t\tshowMoreDesc: false,\r\n\t\t\t\tcurrentIndex: 0,\r\n\t\t\t\tlocateIndex: '', // 用于章节定位索引\r\n\t\t\t\tshelftButtonDisable: true,\r\n\t\t\t\tnavBorder: false,\r\n\t\t\t\tchapterShow: false,\r\n\t\t\t\tisReverse: false,\r\n\t\t\t\tchapterTotal: 0,\r\n\t\t\t\tpageNum: 1,\r\n\t\t\t\tpageSize: 15,\r\n\t\t\t\tdefaultImg: '../../static/nodata.jpg',\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonLoad(option) {\r\n\t\t\t\tconst redirectObj = JSON.parse(decodeURIComponent(option.item));\r\n\t\t\t\tthis.openid = redirectObj.openid;\r\n\t\t\t\tthis.sourceId = redirectObj.sourceId;\r\n\t\t\t\tthis.bookName = redirectObj.bookName;\r\n\t\t\t\tthis.bookLink = redirectObj.bookLink;\r\n\t\t\t\tthis.author = redirectObj.author;\r\n\t\t\t\t\r\n\t\t\t\tshelfIsExit({sourceId: this.sourceId, openid: this.openid, bookName: this.bookName}).then(res => {\r\n\t\t\t\t\tthis.shelftButtonDisable = res.data;\r\n\t\t\t\t\tif (res.data) {\r\n\t\t\t\t\t\tthis.shelfInfo = '已加入书架';\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonShow() {\r\n\t\t\t\t// 获取章节信息\r\n\t\t\t\tthis.refreshCatelog();\r\n\t\t\t},\r\n\t\t\tback() {\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta: 1\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tshowDesc: function() {\r\n\t\t\t\tthis.showMoreDesc = !this.showMoreDesc;\r\n\t\t\t},\r\n\t\t\tshowChapter() {\r\n\t\t\t\tthis.chapterShow = true;\t\r\n\t\t\t},\r\n\t\t\topenChapter() {\r\n\t\t\t\tthis.toChapterSite();\r\n\t\t\t},\r\n\t\t\tcloseChapter() {\r\n\t\t\t\tthis.locateIndex = 'D0';\r\n\t\t\t\tthis.chapterShow = false;\r\n\t\t\t\tthis.isReverse = false;\r\n\t\t\t},\r\n\t\t\treadNow() {\r\n\t\t\t\tlet redirectObj = {\r\n\t\t\t\t\t\"sourceId\": this.sourceId,\r\n\t\t\t\t\t\"bookName\": this.bookName,\r\n\t\t\t\t\t\"bookLink\": this.bookLink,\r\n\t\t\t\t\t\"chapterIndex\": this.currentIndex,\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 添加浏览历史\r\n\t\t\t\tthis.addBrowse();\r\n\t\t\t\t\r\n\t\t\t\tthis.rediretToRead(redirectObj);\r\n\t\t\t},\r\n\t\t\t// 目录排序： 反转目录列表达到正序 倒序功能\r\n\t\t\tsortchapterList() {\r\n\t\t\t\tthis.chapterList = this.chapterList.reverse();\r\n\t\t\t\tthis.isReverse = !this.isReverse;\r\n\t\t\t},\r\n\t\t\t// 添加书架\r\n\t\t\taddBookshelf: function(e) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\t\r\n\t\t\t\tlet param = {\r\n\t\t\t\t\topenid: that.openid,\r\n\t\t\t\t\tsourceId: that.sourceId,\r\n\t\t\t\t\tbookName: that.bookName,\r\n\t\t\t\t\tbookLink: that.bookLink,\r\n\t\t\t\t\timg: that.img,\r\n\t\t\t\t\tauthor: that.author,\r\n\t\t\t\t};\r\n\t\t\t\tsaveShelf(param).then(res => {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\tcontent: '添加书架成功,立即阅读',\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tthat.shelfInfo = '已加入书架';\r\n\t\t\t\t\t\t\tthat.shelftButtonDisable = true;\r\n\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\tthat.readNow(e);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 详情页面 点击目录跳转到阅读页\r\n\t\t\ttoRead: function(e) {\r\n\t\t\t\tthis.chapterShow = false;\r\n\t\t\t\tthis.currentIndex = (this.pageNum - 1) * 15 + e;\r\n\t\t\t\tlet redirectObj = {\r\n\t\t\t\t\t\"sourceId\": this.sourceId,\r\n\t\t\t\t\t\"bookName\": this.bookName,\r\n\t\t\t\t\t\"bookLink\": this.bookLink,\r\n\t\t\t\t\t\"chapterIndex\": this.currentIndex,\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.addBrowse();\r\n\t\t\t\t\r\n\t\t\t\tthis.rediretToRead(redirectObj);\r\n\t\t\t},\r\n\t\t\trefreshCatelog: function() {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: \"客官请稍后\"\r\n\t\t\t\t});\r\n\t\t\t\r\n\t\t\t\tgetCache({\r\n\t\t\t\t\topenid: this.openid,\r\n\t\t\t\t\tkey: \"progress_\" + this.sourceId + \"_\" + this.bookName\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.msg) {\r\n\t\t\t\t\t\tthis.currentIndex = parseInt(res.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgetChapters({sourceId: this.sourceId, link: this.bookLink}).then(res => {\r\n\t\t\t\t\t\tthis.img = res.data.img;\r\n\t\t\t\t\t\tthis.introduce = res.data.introduce;\r\n\t\t\t\t\t\tthis.chapterList = res.data.chapterList;\r\n\t\t\t\t\t\tthis.chapterTotal = res.data.total;\r\n\t\t\t\t\t\tif (this.chapterTotal > 3000) {\r\n\t\t\t\t\t\t\tthis.pageNum = Math.floor(this.currentIndex / this.pageSize) + 1;\r\n\t\t\t\t\t\t\tthis.groupArray(this.chapterList, this.pageSize);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetBindId: function(index) {\r\n\t\t\t\treturn 'D' + index;\r\n\t\t\t},\r\n\t\t\ttoChapterSite: function() {\r\n\t\t\t\tgetCache({\r\n\t\t\t\t\topenid: this.openid,\r\n\t\t\t\t\tkey: \"progress_\" + this.sourceId + \"_\" + this.bookName\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.msg) {\r\n\t\t\t\t\t\tthis.currentIndex = parseInt(res.msg);\r\n\t\t\t\t\t\tthis.locateIndex = 'D' + this.currentIndex;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\taddBrowse() {\r\n\t\t\t\tlet param = {\r\n\t\t\t\t\topenid: this.openid,\r\n\t\t\t\t\tsourceId: this.sourceId,\r\n\t\t\t\t\tbookName: this.bookName,\r\n\t\t\t\t\tbookLink: this.bookLink,\r\n\t\t\t\t\timg: this.img,\r\n\t\t\t\t\tauthor: this.author\r\n\t\t\t\t};\r\n\t\t\t\tsaveBrowseHistory(param);\r\n\t\t\t},\r\n\t\t\tchangeChapter(e) {\r\n\t\t\t\tthis.pageNum = e.current;\r\n\t\t\t},\r\n\t\t\trediretToRead(redirectObj) {\r\n\t\t\t\tgetCache({\r\n\t\t\t\t\topenid: this.openid,\r\n\t\t\t\t\tkey: \"turn_page_radio\"\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tlet tempUrl = '/pages/read/read';\r\n\t\t\t\t\tif (res.msg && res.msg == '点击翻页') {\r\n\t\t\t\t\t\ttempUrl = '/pages/read/read2';\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.$u.route(tempUrl, {\r\n\t\t\t\t\t\titem: encodeURIComponent(JSON.stringify(redirectObj))\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleImageError(e) {\r\n\t\t\t\tthis.img = this.defaultImg;\r\n\t\t\t},\r\n\t\t\tgroupArray(data, groupSize) {\r\n\t\t\t\tfor (let i = 0; i < data.length; i += groupSize) {\r\n\t\t\t\t\tthis.groupChapterList.push(data.slice(i, i + groupSize));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.row {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: flex-start;\r\n\t\twidth: 100%;\r\n\t\theight: 110px;\r\n\t\tmargin: 10rpx;\r\n\t}\r\n\r\n\t.rowIcon {\r\n\t\twidth: 180rpx;\r\n\t\theight: 190rpx;\r\n\t\tmargin: 0px 20px 0px 0px\r\n\t}\r\n\r\n\t.rowDesc {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: flex-start;\r\n\t\theight: 190rpx;\r\n\t\twidth: 99%;\r\n\t\tmargin: 2rpx;\r\n\t}\r\n\r\n\t.row text {\r\n\t\tfont-size: 14px;\r\n\t\tmargin-top: 15rpx;\r\n\t\theight: 12px;\r\n\t}\r\n\r\n\t.btnGroup {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: flex-start;\r\n\t\twidth: 100%;\r\n\t\theight: 100rpx;\r\n\t\tmargin-top: 20px;\r\n\t}\r\n\r\n\t.blue-btn {\r\n\t\twidth: 40%;\r\n\t\theight: 80rpx;\r\n\t\tfont-size: 14px;\r\n\t\tbackground: #6c2a21;\r\n\t\tborder: 0.5rpx solid #6c2a21;\r\n\t\tline-height: 80rpx;\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t.blue-btn::after {\r\n\t\tborder: 0;\r\n\t}\r\n\r\n\t.blue-link {\r\n\t\tcolor: #6c2a21;\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\tmargin: 20rpx 0 10rpx 0;\r\n\t}\r\n\r\n\t.desc {\r\n\t\tfont-size: 14px;\r\n\t\tmargin: 30rpx;\r\n\t}\r\n\r\n\t.desc .content {\r\n\t\tmargin-top: 20rpx;\r\n\t\tline-height: 20px;\r\n\t}\r\n\r\n\t.desc .autoHeight {\r\n\t\theight: auto;\r\n\t\toverflow-y: auto;\r\n\t}\r\n\r\n\t.desc .limitHeight {\r\n\t\theight: 40px;\r\n\t\toverflow-y: hidden;\r\n\t}\r\n\r\n\t.linePanel {\r\n\t\tpadding: 15rpx;\r\n\t\tborder-bottom: 1rpx solid #eee;\r\n\t\tborder-top: 1rpx solid #eee;\r\n\t\tfont-size: 14px;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t/* 章节 */\r\n\t.catelog {\r\n\t\theight: 560px;\r\n\t\tposition: relative;\r\n\t\tbottom: 0px;\r\n\t\tbackground: #fefefe;\r\n\t\tcolor: #999;\r\n\t}\r\n\r\n\t.catelog-header {\r\n\t\tleft: 0px;\r\n\t\tdisplay: flex;\r\n\t\theight: 40px;\r\n\t\tbackground-color: #fefefe;\r\n\t\tjustify-content: space-between;\r\n\t\tborder-bottom: 1px solid #f5f2f0;\r\n\t}\r\n\r\n\t.catelog-header-col {\r\n\t\theight: 40px;\r\n\t\tline-height: 40px;\r\n\t\tmargin-left: 20px;\r\n\t\tcolor: #634102;\r\n\t\tbackground-color: #fefefe;\r\n\t\tborder-bottom: 1px solid #f5f2f0;\r\n\t}\r\n\t\r\n\t.catelog-header-col1 {\r\n\t\theight: 40px;\r\n\t\tline-height: 40px;\r\n\t\tmargin-right: 20px;\r\n\t\tcolor: #634102;\r\n\t\tbackground-color: #fefefe;\r\n\t\tborder-bottom: 1px solid #f5f2f0;\r\n\t}\r\n\r\n\r\n\t.column {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.row_item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tline-height: 30px;\r\n\t\t/* margin-top:5px; */\r\n\t\tborder-bottom: 1px solid #f5f2f0;\r\n\t\tmargin: 0 20px;\r\n\t}\r\n\r\n\t.hoverText {\r\n\t\tcolor: #634102;\r\n\t}\r\n\r\n</style>\n","import mod from \"-!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./bookInfo.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\谷歌下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./bookInfo.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1725353631369\n      var cssReload = require(\"E:/谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}